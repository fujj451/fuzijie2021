<html>
	<head>
		<title>推箱子</title>
		<script src="./js/three.js"></script>
		<script src="./js/OBJLoader.js"></script>
		<script src="./js/OrbitControls.js"></script>
		<script src="./js/MTLLoader.js"></script>
		<script src="./js/DDSLoader.js"></script>
		<script src="./js/jquery-3.6.0.min.js"></script>
		<script src="./js/get_map.js"></script>
		<script src="./js/get_character.js"></script>
		<link rel="stylesheet" type="text/css" href="index.css" />
		<style>
			body { margin: 0; width: 100%; height: 100%;}
			canvas { width: 100%; height: 100% }
		</style>
		
	</head>
	<body>
		<div id="bt">
			恭喜通关
		</div>
		<script>
			var scene = new THREE.Scene();
			
			//光源设置
			//点光源
			// var point = new THREE.SpotLight(0xffffff);
			// point.castShadow = true;
			// point.shadowCameraVisible = true;
			// point.position.set(100,100,100);//点光源位置
			// scene.add(point);
			//环境光
			var ambient = new THREE.AmbientLight(0xffffff);
			scene.add(ambient);
			
			//相机设置
			//创建相机对象
			//窗口宽度
			var width = window.innerWidth;
			//窗口高度
			var height = window.innerHeight;
			//窗口宽高比
			var k = width / height; 
			//三维场景显示范围控制系数，系数越大，显示的范围越大
			// var s = 520;
			//创建相机对象
			var camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 100000 );
			// var camera = new THREE.OrthographicCamera( -s*k,s*k,s,-s, 1, 1000 );
			//设置相机位置
			//10,500,500
			camera.position.set(10,680,280);
			//设置相机位置
			// camera.lookAt({x:0,y:530,z:0});
			
			//生成地图
			getMap();
			getCharacter();
			
			//创建渲染器对象
			var renderer = new THREE.WebGLRenderer({
				antialias: true,
				alpha: true
			});
			//设置渲染区域尺寸
			renderer.setSize(width,height);
			//设置背景颜色
			
			renderer.setClearColor(0xb9d3ff,1);
			// var axisHelper = new THREE.AxisHelper(1000);
			// scene.add(axisHelper);
			
			//body中插入canvas
			document.body.appendChild( renderer.domElement );
			function animate() {
				requestAnimationFrame( animate );
				renderer.render( scene, camera );
			};
			animate();
			var controls = new THREE.OrbitControls(camera,renderer.domElement);

		</script>
	</body>
</html>